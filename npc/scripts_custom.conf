// --------------------------------------------------------------
// -                       Custom Scripts                       -
// --------------------------------------------------------------
//      All the custom scripts, remove the '//' to enable...     
//      Place your scripts here!

//npc: npc/location/to/script.txt

// ----------------------- Basic Scripts -----------------------
npc: npc/custom/warper.txt
npc: npc/custom/jobmaster.txt
npc: npc/custom/platinum_skills.txt
npc: npc/custom/healer.txt
npc: npc/custom/breeder.txt
npc: npc/custom/card_seller.txt
npc: npc/custom/itemmall.txt
npc: npc/custom/stylist.txt
npc: npc/custom/resetnpc.txt
npc: npc/custom/card_remover.txt
npc: npc/custom/item_signer.txt
npc: npc/custom/woe_controller.txt
npc: npc/custom/restock_1.3.0.txt
npc: npc/custom/gregio_grumani.txt
npc: npc/custom/woestat.txt

// ----------------------- Other Scripts -----------------------
// -- Private MVP & Branch Room
npc: npc/custom/etc/mvp_room.txt
// -- MVP Arena
npc: npc/custom/etc/mvp_arena.txt
// -- Penal Servitude (Jails Quest)
//npc: npc/custom/etc/penal_servitude.txt
// -- Banks
//npc: npc/custom/etc/bank_kafra.txt
//npc: npc/custom/etc/bank.txt
// -- Lottery (very flexible)
//npc: npc/custom/etc/lottery.txt
// -- Stock Market (Play on it, earn money, very flexible)
//npc: npc/custom/etc/stock_market.txt
// -- Russian Roulette + Rock Scissors Paper (warning! contains OBB/OVB/OCA/etc. prizes!)
//npc: npc/custom/etc/rpsroulette.txt
// -- Black Jack
//npc: npc/custom/etc/blackjack.txt
// -- Hire ninja squads to assassinate an enemy!
//npc: npc/custom/etc/shifty_assassin.txt
// -- Train your monsters to fight against other players' monsters
//npc: npc/custom/etc/monster_arena.txt
// -- Raceway mini-game
//npc: npc/custom/etc/morroc_raceway.txt
// -- Random change of Drop/Exp rates 1x ~ 1.5x every 6 hours on your server 
//npc: npc/custom/etc/floating_rates.txt
// -- Wedding script that supports same-sex marriages
//npc: npc/custom/etc/marriage.txt
// -- Warper that works only after locations are unlocked
//npc: npc/custom/etc/quest_warper.txt
// -- Auto-Potion command
//npc: npc/custom/etc/autopot.txt

// ----------------------- Quest Scripts -----------------------
// -- Dynamic Quest Scripts
//npc: npc/custom/quests/hunting_missions.txt
//npc: npc/custom/quests/quest_shop.txt
//npc: npc/custom/quests/questboard.txt
// -- Treasure Hunters Guild Quests (40 Quests + Special Guild Shop)
//npc: npc/custom/quests/thq/THQS_ChattingNPC.txt
//npc: npc/custom/quests/thq/THQS_GuildNPC.txt
//npc: npc/custom/quests/thq/THQS_QuestNPC.txt
//npc: npc/custom/quests/thq/THQS_Quests.txt
//npc: npc/custom/quests/thq/THQS_TTShop.txt
// -- Equipment Quests
//npc: npc/custom/quests/elvenear.txt
//npc: npc/custom/quests/sunglasses.txt
//npc: npc/custom/quests/bandit_beard.txt
//npc: npc/custom/quests/event_6_new_hats.txt
//npc: npc/custom/quests/may_hats.txt
//npc: npc/custom/quests/kings_items.txt
// -- Misc Item Quests
//npc: npc/custom/quests/dead_branch.txt
//npc: npc/custom/quests/berzebub.txt
//npc: npc/custom/quests/jewel_case.txt
// -- Godly Equipment Quests (be careful!)
//npc: npc/custom/quests/valhallen.txt
//npc: npc/custom/quests/kaho_balmung.txt
//npc: npc/custom/quests/kahohorn.txt

// ----------------------- Event Scripts -----------------------
// -- Mini-Game Events
//npc: npc/custom/events/cluckers.txt
//npc: npc/custom/events/devil_square.txt
//npc: npc/custom/events/disguise.txt
//npc: npc/custom/events/mushroom_event.txt
//npc: npc/custom/events/mvp_ladder.txt
// -- Holiday Events
//npc: npc/custom/events/holiday/xmas_rings_event.txt
//npc: npc/custom/events/holiday/valentinesdayexp.txt
//npc: npc/custom/events/holiday/hallow06.txt
//npc: npc/custom/events/holiday/uneasy_cemetery.txt

// -------------------- Battleround Scripts --------------------
// -- Custom Battleground Scripts
//npc: npc/custom/battleground/bg_emp.txt
//npc: npc/custom/battleground/bg_pvp.txt
// -- Unofficial Battlegrounds (custom version of official scripts)
//npc: npc/custom/battleground/unofficial/bg_common.txt
//npc: npc/custom/battleground/unofficial/bg_tierra_01.txt
//npc: npc/custom/battleground/unofficial/bg_tierra_02.txt
//npc: npc/custom/battleground/unofficial/bg_flavius_01.txt
//npc: npc/custom/battleground/unofficial/bg_flavius_02.txt
//npc: npc/custom/battleground/unofficial/bg_kvm01.txt
//npc: npc/custom/battleground/unofficial/bg_kvm02.txt
//npc: npc/custom/battleground/unofficial/bg_kvm03.txt

// --------------------- Unofficial Scripts --------------------
// -- Unofficial Airplane script
//npc: npc/custom/etc/airplane.txt
// -- Thanatos Tower Statues Quest
//npc: npc/custom/quests/tha_statues.txt
// -- Custom quests from official Umbalian Quests
//npc: npc/custom/quests/sphinx_mask.txt
//npc: npc/custom/quests/umbalian_language.txt

//===== rAthena Script ======================================= 
//= Warper
//===== Description: ========================================= 
//= A complete - but very condensed - warper script.
//===== Additional Comments: =================================
//= 1.0 Initial script By [Euphy].
//= 1.1 Added missing duplicates and fixed coordinates.
//=     Some coordinates written by [Tekno-Kanix] and [ToastOfDoom].
//= 1.2 Added new episodes and simplified functions.
//= 1.3 Added Renewal checks and Instances menu.
//=     Aligned coordinates with @go.
//= 1.4 Added new Guild Dungeons.
//= 1.4a Slight edits.
//= 1.4b Added Wolfchev's Laboratory warp.
//= 1.5 Added Lasagna ,Para Market ,WOE TE ,Instances and settings [sader1992].
//= 1.5a Fix Bifrost Tower
//============================================================

-scriptWarper-1,{
function Go; function Disp; function Pick; function Restrict;

// --------------------------------------------------
//Main Menu:
// --------------------------------------------------

menu"Last Warp ^777777["+lastwarp$+"]^000000",-,
    " ~ Towns",Towns,
    " ~ Fields",Fields,
    " ~ Dungeons",Dungeons,
    " ~ Guild Castles",Castles,
    " ~ Guild Dungeons",Guild_Dungeons,
    " ~ Instances",Instances,
    " ~ Special Areas",Special;

if (lastwarp$ == "")
message strcharinfo(0),"You haven't warped anywhere yet.";
else
warp lastwarp$,lastwarpx,lastwarpy;
end;

// ------------------- Functions -------------------
// * Go("<map>",<x>,<y>);
//~ Warps directly to a map.
//
// * Disp("<Menu Option>",<first option>,<last option>);
// * Pick("<map_prefix>"{,<index offset>});
//~ Dynamic menu and map selection (auto-numbered).
//~ Fields and Dungeons must use Disp and Pick Functions.
//
// * Disp("<Option 1>:<Option 2>:<etc.>");
// * Pick("","<map1>","<map2>","<etc.>");
//~ Manual menu and map selection (listed).
//
// * Restrict("<RE | Pre-RE>"{,<menu option numbers>});
//~ Only allows map for Renewal or Pre-Renewal modes.
//     If menu option numbers are given, only those maps
//     will be restricted (i.e. not for "Go").
//
// Other notes:
//   ~ Array @c[] holds all (x,y) coordinates.
//   ~ Use @c[2] EXCEPT when maps begin dynamically
//  at 0: use @c[0] and Pick() offset 1.
// --------------------------------------------------

function Go {
set lastwarp$, getarg(0);
set lastwarpx, getarg(1,0);
set lastwarpy, getarg(2,0);
warp getarg(0),getarg(1,0),getarg(2,0);
end;
}
function Disp {
if (getargcount() < 3)
set @menu$, getarg(0);
else {
set @menu$,"";
for (set .@i,getarg(1); .@i<=getarg(2); set .@i,.@i+1)
set @menu$, @menu$+getarg(0)+" "+.@i+":";
}
return;
}
function Pick {
set .@warp_block,@warp_block;
set @warp_block,0;
if((@f && .OnlyFirstFld) || (@d && .OnlyFirstDun)){
set .@select,1;
if(.@warp_block){
while(.@warp_block & (1<<.@select)){
.@select += 1;
}
}
}else{
set .@select, select(@menu$);
}
if (getarg(0) == "") {
set .@i, .@select;
set .@map$, getarg(.@i);
} else {
set .@i, .@select-getarg(1,0);
set .@map$, getarg(0)+((.@i<10)?"0":"")+.@i;...